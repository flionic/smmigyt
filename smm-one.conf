server {
	server_name 1-smm.com www.1-smm.com;
	if ($host = www.1-smm.com) {
        return 301 https://1-smm.com$request_uri;
    } # managed by Certbot
	root /var/flask/smm-one;

	access_log  /var/flask/smm-one/logs/nginx_access.log;
    error_log  /var/flask/smm-one/logs/nginx_error.log;

	gzip 			   on;
	gzip_comp_level    5;
	gzip_min_length    256;
	gzip_proxied       any;
	gzip_vary          on;
	gzip_types
		application/atom+xml
		application/javascript
		application/json
		application/ld+json
		application/manifest+json
		application/rss+xml
		application/vnd.geo+json
		application/vnd.ms-fontobject
		application/x-font-ttf
		application/x-web-app-manifest+json
		application/xhtml+xml
		application/xml
		font/opentype
		image/bmp
		image/svg+xml
		image/x-icon
		text/cache-manifest
		text/css
		text/plain
		text/vcard
		text/vnd.rim.location.xloc
		text/vtt
		text/x-component
		text/x-cross-domain-policy;

	location ~*  \.(jpg|jpeg|png|gif|ico|css|js)$ {
        #alias /var/flask/service-smm/static;
        expires 365d;
    }

	location / {
	    #proxy_pass         $scheme://your_proxy;
	    proxy_pass         http://127.0.0.1:23033;
        proxy_redirect     off;
        proxy_set_header   Host $host;
        proxy_set_header   X-Real-IP $remote_addr;
        proxy_set_header   X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header   X-Forwarded-Host $server_name;
    }

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/1-smm.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/1-smm.com/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}
server {
    server_name 1-smm.com www.1-smm.com;
    if ($host = 1-smm.com) {
        return 301 https://$host$request_uri;
    } # managed by Certbot
    if ($host = www.1-smm.com) {
        return 301 https://1-smm.com$request_uri;
    } # managed by Certbot
}